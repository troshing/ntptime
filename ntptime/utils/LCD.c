#include "LCD.h"  

// СИМВОЛЫ
// первые 10 байтов - верхняя половина, вторые 10 байтов - нижняя половина

const unsigned char SYMBOL_ARRAY[][10] =
{
  // алфавит большой
  0x00,0xf0,0x08,0x04,0x04,0x04,0x08,0xf0,0x00,0x00,       // А (High)
  0x00,0x1f,0x01,0x01,0x01,0x01,0x01,0x1f,0x00,0x00,       // А (Low)
  
  0x00,0xfc,0x44,0x44,0x44,0x44,0x84,0x00,0x00,0x00,       // Б (High)
  0x00,0x1f,0x10,0x10,0x10,0x10,0x08,0x07,0x00,0x00,       // Б (Low)
  
  0x00,0xfc,0x84,0x84,0x84,0x84,0x48,0x30,0x00,0x00,       // В (High)
  0x00,0x1f,0x10,0x10,0x10,0x10,0x09,0x06,0x00,0x00,       // В (Low)
  
  0x00,0xfc,0x04,0x04,0x04,0x04,0x04,0x0c,0x00,0x00,       // Г (High)
  0x00,0x1f,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,       // Г (Low)
  
  0x00,0x00,0xfc,0x04,0x04,0x04,0xfc,0x00,0x00,0x00,       // Д (High)
  0x38,0x0e,0x09,0x08,0x08,0x08,0x0f,0x38,0x00,0x00,       // Д (Low)
  
  0x00,0xfc,0x84,0x84,0x84,0x84,0x84,0x00,0x00,0x00,       // Е (High)
  0x00,0x1f,0x10,0x10,0x10,0x10,0x10,0x00,0x00,0x00,       // Е (Low)

  0x0c,0x10,0x60,0x80,0xfc,0x80,0x60,0x10,0x0c,0x00,       // Ж (High)
  0x18,0x04,0x03,0x00,0x1f,0x00,0x03,0x04,0x18,0x00,       // Ж (Low)
  
  0x00,0x08,0x04,0x04,0x84,0x84,0x84,0x78,0x00,0x00,       // З (High)
  0x00,0x08,0x10,0x10,0x10,0x10,0x10,0x0f,0x00,0x00,       // З (Low)
  
  0x00,0xfc,0x00,0x00,0x80,0x60,0x18,0xfc,0x00,0x00,       // И (High)
  0x00,0x1f,0x0c,0x03,0x00,0x00,0x00,0x1f,0x00,0x00,       // И (Low)
  
  0x00,0xfc,0x00,0x03,0x82,0x63,0x18,0xfc,0x00,0x00,       // Й (High)
  0x00,0x1f,0x0c,0x03,0x00,0x00,0x00,0x1f,0x00,0x00,       // Й (Low)
  
  0x00,0xfc,0x80,0x40,0x20,0x10,0x08,0x04,0x00,0x00,       // К (High)
  0x00,0x1f,0x00,0x01,0x02,0x04,0x08,0x10,0x00,0x00,       // К (Low)
  
  0x00,0xf8,0x04,0x04,0x04,0x04,0xfc,0x00,0x00,0x00,       // Л (High)
  0x10,0x0f,0x00,0x00,0x00,0x00,0x1f,0x00,0x00,0x00,       // Л (Low)
  
  0x00,0xfc,0x30,0xc0,0x00,0xc0,0x30,0xfc,0x00,0x00,       // М (High)
  0x00,0x1f,0x00,0x01,0x02,0x01,0x00,0x1f,0x00,0x00,       // М (Low)
  
  0x00,0xfc,0x80,0x80,0x80,0x80,0x80,0xfc,0x00,0x00,       // Н (High)
  0x00,0x1f,0x00,0x00,0x00,0x00,0x00,0x1f,0x00,0x00,       // Н (Low)
  
  0x00,0xf8,0x04,0x04,0x04,0x04,0x04,0xf8,0x00,0x00,       // О (High)
  0x00,0x0f,0x10,0x10,0x10,0x10,0x10,0x0f,0x00,0x00,       // О (Low)
  
  0x00,0xfc,0x04,0x04,0x04,0x04,0x04,0xfc,0x00,0x00,       // П (High)
  0x00,0x1f,0x00,0x00,0x00,0x00,0x00,0x1f,0x00,0x00,       // П (Low)
  
  0x00,0xfc,0x04,0x04,0x04,0x04,0x88,0x70,0x00,0x00,       // Р (High)
  0x00,0x1f,0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,       // Р (Low)
  
  0x00,0xf8,0x04,0x04,0x04,0x04,0x04,0x08,0x00,0x00,       // С (High)
  0x00,0x0f,0x10,0x10,0x10,0x10,0x10,0x08,0x00,0x00,       // С (Low)
  
  0x04,0x04,0x04,0x04,0xfc,0x04,0x04,0x04,0x04,0x00,       // Т (High)
  0x00,0x00,0x00,0x00,0x1f,0x00,0x00,0x00,0x00,0x00,       // Т (Low)
  
  0x00,0x3c,0xc0,0x00,0x00,0x00,0x00,0xfc,0x00,0x00,       // У (High)
  0x00,0x00,0x10,0x11,0x11,0x11,0x09,0x07,0x00,0x00,       // У (Low)
  
  0xe0,0x10,0x08,0x08,0xfc,0x08,0x08,0x10,0xe0,0x00,       // Ф (High)
  0x00,0x01,0x02,0x02,0x1f,0x02,0x02,0x01,0x00,0x00,       // Ф (Low)
  
  0x04,0x08,0x10,0x20,0xc0,0x20,0x10,0x08,0x04,0x00,       // Х (High)
  0x10,0x08,0x04,0x02,0x01,0x02,0x04,0x08,0x10,0x00,       // Х (Low)
  
  0x00,0xfc,0x00,0x00,0x00,0x00,0x00,0xfc,0x00,0x00,       // Ц (High)
  0x00,0x1f,0x10,0x10,0x10,0x10,0x10,0x1f,0x70,0x00,       // Ц (Low)
  
  0x00,0xfc,0x00,0x00,0x00,0x00,0x00,0xfc,0x00,0x00,       // Ч (High)
  0x00,0x00,0x01,0x02,0x02,0x02,0x02,0x1f,0x00,0x00,       // Ч (Low)
  
  0x00,0xfc,0x00,0x00,0xfc,0x00,0x00,0xfc,0x00,0x00,       // Ш (High)
  0x00,0x1f,0x10,0x10,0x1f,0x10,0x10,0x1f,0x00,0x00,       // Ш (Low)
  
  0x00,0xfc,0x00,0x00,0xfc,0x00,0x00,0xfc,0x00,0x00,       // Щ (High)
  0x00,0x1f,0x10,0x10,0x1f,0x10,0x10,0x1f,0x70,0x00,       // Щ (Low)
  
  0x00,0x00,0xfc,0x40,0x40,0x40,0x80,0x00,0x00,0x00,       // Ь (High)
  0x00,0x00,0x1f,0x10,0x10,0x10,0x08,0x07,0x00,0x00,       // Ь (Low)
  
  0x00,0xfc,0x40,0x40,0x40,0x80,0x00,0x00,0xfc,0x00,       // Ы (High)
  0x00,0x1f,0x10,0x10,0x10,0x08,0x07,0x00,0x1f,0x00,       // Ы (Low)
  
  0x04,0x04,0xfc,0x40,0x40,0x40,0x80,0x00,0x00,0x00,       // Ъ (High)
  0x00,0x00,0x1f,0x10,0x10,0x10,0x08,0x07,0x00,0x00,       // Ъ (Low)
  
  0x00,0x08,0x04,0x04,0x84,0x84,0x84,0xf8,0x00,0x00,       // Э (High)
  0x00,0x08,0x10,0x10,0x10,0x10,0x10,0x0f,0x00,0x00,       // Э (Low)
  
  0x00,0xfc,0x80,0xf8,0x04,0x04,0x04,0x04,0xf8,0x00,       // Ю (High)
  0x00,0x1f,0x00,0x0f,0x10,0x10,0x10,0x10,0x0f,0x00,       // Ю (Low)
  
  0x00,0x30,0x48,0x84,0x84,0x84,0x84,0xfc,0x00,0x00,       // Я (High)
  0x00,0x1e,0x01,0x00,0x00,0x00,0x00,0x1f,0x00,0x00,       // Я (Low)


  // алфавит маленький
  0x00,0x00,0x20,0x20,0x20,0x20,0xc0,0x00,0x00,0x00,       // а (High)
  0x00,0x0e,0x11,0x11,0x11,0x11,0x1f,0x00,0x00,0x00,       // а (Low)
  
  0x00,0xe0,0x90,0x90,0x90,0x80,0x00,0x00,0x00,0x00,       // б (High)
  0x00,0x0f,0x10,0x10,0x10,0x10,0x0f,0x00,0x00,0x00,       // б (Low)
  
  0x00,0xe0,0x20,0x20,0x20,0x20,0xc0,0x00,0x00,0x00,       // в (High)
  0x00,0x1f,0x11,0x11,0x11,0x11,0x0e,0x00,0x00,0x00,       // в (Low)
  
  0x00,0x00,0xe0,0x20,0x20,0x20,0x20,0x60,0x00,0x00,       // г (High)
  0x00,0x00,0x1f,0x00,0x00,0x00,0x00,0x00,0x00,0x00,       // г (Low)
  
  0x00,0x00,0xe0,0x20,0x20,0x20,0xe0,0x00,0x00,0x00,       // д (High)
  0x70,0x1c,0x13,0x10,0x10,0x10,0x1f,0x70,0x00,0x00,       // д (Low)
  
  0x00,0xc0,0x20,0x20,0x20,0x20,0xc0,0x00,0x00,0x00,       // е (High)
  0x00,0x0f,0x12,0x12,0x12,0x12,0x01,0x00,0x00,0x00,       // е (Low)
  
  0x20,0x60,0x80,0x00,0xe0,0x00,0x80,0x60,0x20,0x00,       // ж (High)
  0x18,0x04,0x02,0x01,0x1f,0x01,0x02,0x04,0x18,0x00,       // ж (Low)
  
  0x00,0x40,0x20,0x20,0x20,0x20,0xc0,0x00,0x00,0x00,       // з (High)
  0x00,0x08,0x10,0x10,0x11,0x11,0x0e,0x00,0x00,0x00,       // з (Low)
  
  0x00,0xe0,0x00,0x00,0x00,0x80,0x40,0xe0,0x00,0x00,       // и (High)
  0x00,0x1f,0x08,0x04,0x03,0x00,0x00,0x1f,0x00,0x00,       // и (Low)
  
  0x00,0xe0,0x00,0x0c,0x08,0x8c,0x40,0xe0,0x00,0x00,       // й (High)
  0x00,0x1f,0x08,0x04,0x03,0x00,0x00,0x1f,0x00,0x00,       // й (Low)
  
  0x00,0xe0,0x00,0x80,0x40,0x20,0x00,0x00,0x00,0x00,       // к (High)
  0x00,0x1f,0x01,0x02,0x04,0x08,0x10,0x00,0x00,0x00,       // к (Low)
  
  0x00,0xc0,0x20,0x20,0x20,0x20,0xc0,0x00,0x00,0x00,       // л (High)
  0x10,0x0f,0x00,0x00,0x00,0x00,0x1f,0x00,0x00,0x00,       // л (Low)
  
  0x00,0xe0,0x40,0x80,0x00,0x80,0x40,0xe0,0x00,0x00,       // м (High)
  0x00,0x1f,0x00,0x01,0x06,0x01,0x00,0x1f,0x00,0x00,       // м (Low)
  
  0x00,0xe0,0x00,0x00,0x00,0x00,0x00,0xe0,0x00,0x00,       // н (High)
  0x00,0x1f,0x01,0x01,0x01,0x01,0x01,0x1f,0x00,0x00,       // н (Low)
  
  0x00,0xc0,0x20,0x20,0x20,0x20,0x20,0xc0,0x00,0x00,       // о (High)
  0x00,0x0f,0x10,0x10,0x10,0x10,0x10,0x0f,0x00,0x00,       // о (Low)
  
  0x00,0xe0,0x20,0x20,0x20,0x20,0x20,0xe0,0x00,0x00,       // п (High)
  0x00,0x1f,0x00,0x00,0x00,0x00,0x00,0x1f,0x00,0x00,       // п (Low)
  
  0x00,0xe0,0x20,0x20,0x20,0x20,0x40,0x80,0x00,0x00,       // р (High)
  0x00,0x7f,0x04,0x04,0x04,0x04,0x02,0x01,0x00,0x00,       // р (Low)
  
  0x00,0xc0,0x20,0x20,0x20,0x20,0x20,0x40,0x00,0x00,       // с (High)
  0x00,0x0f,0x10,0x10,0x10,0x10,0x10,0x08,0x00,0x00,       // с (Low)
  
  0x20,0x20,0x20,0x20,0xe0,0x20,0x20,0x20,0x20,0x00,       // т (High)
  0x00,0x00,0x00,0x00,0x1f,0x00,0x00,0x00,0x00,0x00,       // т (Low)
  
  0x00,0xe0,0x00,0x00,0x00,0x00,0x00,0xe0,0x00,0x00,       // у (High)
  0x00,0x01,0x42,0x44,0x44,0x44,0x24,0x1f,0x00,0x00,       // у (Low)
  
  0x00,0xc0,0x20,0x20,0xf0,0x20,0x20,0xc0,0x00,0x00,       // ф (High)
  0x00,0x03,0x04,0x04,0x3f,0x04,0x04,0x03,0x00,0x00,       // ф (Low)
  
  0x00,0x20,0x40,0x80,0x00,0x80,0x40,0x20,0x00,0x00,       // х (High)
  0x00,0x10,0x08,0x04,0x03,0x04,0x08,0x10,0x00,0x00,       // х (Low)
  
  0x00,0xe0,0x00,0x00,0x00,0x00,0x00,0xe0,0x00,0x00,       // ц (High)
  0x00,0x1f,0x10,0x10,0x10,0x10,0x10,0x1f,0x70,0x00,       // ц (Low)
  
  0x00,0xe0,0x00,0x00,0x00,0x00,0xe0,0x00,0x00,0x00,       // ч (High)
  0x00,0x01,0x02,0x04,0x04,0x04,0x1f,0x00,0x00,0x00,       // ч (Low)
  
  0x00,0xe0,0x00,0x00,0xe0,0x00,0x00,0xe0,0x00,0x00,       // ш (High)
  0x00,0x1f,0x10,0x10,0x1f,0x10,0x10,0x1f,0x00,0x00,       // ш (Low)
  
  0x00,0xe0,0x00,0x00,0xe0,0x00,0x00,0xe0,0x00,0x00,       // щ (High)
  0x00,0x1f,0x10,0x10,0x1f,0x10,0x10,0x1f,0x70,0x00,       // щ (Low)
  
  0x00,0x00,0xe0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,       // ь (High)
  0x00,0x00,0x1f,0x11,0x11,0x11,0x0e,0x00,0x00,0x00,       // ь (Low)
  
  0x00,0xe0,0x00,0x00,0x00,0x00,0x00,0xe0,0x00,0x00,       // ы (High)
  0x00,0x1f,0x11,0x11,0x11,0x0e,0x00,0x1f,0x00,0x00,       // ы (Low)
    
  0x20,0x20,0xe0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,       // ъ (High)
  0x00,0x00,0x1f,0x11,0x11,0x11,0x0e,0x00,0x00,0x00,       // ъ (Low)
  
  0x00,0x40,0x20,0x20,0x20,0x20,0xc0,0x00,0x00,0x00,       // э (High)
  0x00,0x08,0x10,0x10,0x11,0x11,0x0f,0x00,0x00,0x00,       // э (Low)
  
  0x00,0xe0,0x00,0xc0,0x20,0x20,0x20,0xc0,0x00,0x00,       // ю (High)
  0x00,0x1f,0x01,0x0f,0x10,0x10,0x10,0x0f,0x00,0x00,       // ю (Low)
  
  0x00,0x00,0xc0,0x20,0x20,0x20,0x20,0xe0,0x00,0x00,       // я (High)
  0x00,0x00,0x19,0x06,0x02,0x02,0x02,0x1f,0x00,0x00,       // я (Low)
  
  
  // цифры
  0x00,0xf8,0x04,0x04,0x84,0x64,0x1c,0xf8,0x00,0x00,       // 0 (High)
  0x00,0x0f,0x18,0x16,0x11,0x10,0x10,0x0f,0x00,0x00,       // 0 (Low)
  
  0x00,0x00,0x80,0x40,0x20,0x10,0x08,0xfc,0x00,0x00,       // 1 (High)
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1f,0x00,0x00,       // 1 (Low)
  
  0x00,0x08,0x04,0x04,0x04,0x04,0x84,0x78,0x00,0x00,       // 2 (High)
  0x00,0x10,0x18,0x14,0x12,0x11,0x10,0x10,0x00,0x00,       // 2 (Low)
  
  0x00,0x08,0x04,0x04,0x84,0x84,0x84,0x78,0x00,0x00,       // 3 (High)
  0x00,0x08,0x10,0x10,0x10,0x10,0x10,0x0f,0x00,0x00,       // 3 (Low)
  
  0x00,0x00,0x80,0x40,0x20,0x10,0x08,0xfc,0x00,0x00,       // 4 (High)
  0x00,0x03,0x02,0x02,0x02,0x02,0x02,0x1f,0x02,0x00,       // 4 (Low)
  
  0x00,0x7c,0x44,0x44,0x44,0x44,0x44,0x84,0x00,0x00,       // 5 (High)
  0x00,0x08,0x10,0x10,0x10,0x10,0x10,0x0f,0x00,0x00,       // 5 (Low)
  
  0x00,0xf8,0x44,0x44,0x44,0x44,0x44,0x88,0x00,0x00,       // 6 (High)
  0x00,0x0f,0x10,0x10,0x10,0x10,0x10,0x0f,0x00,0x00,       // 6 (Low)
  
  0x00,0x04,0x04,0x04,0x84,0x44,0x24,0x1c,0x00,0x00,       // 7 (High)
  0x00,0x00,0x1e,0x01,0x00,0x00,0x00,0x00,0x00,0x00,       // 7 (Low)
  
  0x00,0x78,0x84,0x84,0x84,0x84,0x84,0x78,0x00,0x00,       // 8 (High)
  0x00,0x0f,0x10,0x10,0x10,0x10,0x10,0x0f,0x00,0x00,       // 8 (Low)
  
  0x00,0x78,0x84,0x84,0x84,0x84,0x84,0xf8,0x00,0x00,       // 9 (High)
  0x00,0x08,0x10,0x10,0x10,0x10,0x10,0x0f,0x00,0x00,       // 9 (Low)
  
  // латинский большой
  0x00,0xfc,0x04,0x04,0x04,0x04,0x08,0xf0,0x00,0x00,       // D (High)
  0x00,0x1f,0x10,0x10,0x10,0x10,0x08,0x07,0x00,0x00,       // D (Low)
  
  0x00,0xfc,0x84,0x84,0x84,0x84,0x04,0x04,0x00,0x00,       // F (High)
  0x00,0x1f,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,       // F (Low)
  
  0x00,0xf0,0x08,0x04,0x04,0x04,0x04,0x08,0x00,0x00,       // G (High)
  0x00,0x07,0x08,0x10,0x11,0x11,0x11,0x0f,0x00,0x00,       // G (Low)
  
  0x00,0x00,0x00,0x04,0xfc,0x04,0x00,0x00,0x00,0x00,       // I (High)
  0x00,0x00,0x00,0x10,0x1f,0x10,0x00,0x00,0x00,0x00,       // I (Low)
  
  0x00,0x00,0x00,0x00,0x00,0x00,0xfc,0x00,0x00,0x00,       // J (High)
  0x00,0x0c,0x10,0x10,0x10,0x10,0x0f,0x00,0x00,0x00,       // J (Low)
  
  0x00,0xfc,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,       // L (High)
  0x00,0x1f,0x10,0x10,0x10,0x10,0x10,0x18,0x00,0x00,       // L (Low)
  
  0x00,0xfc,0x0c,0x30,0xc0,0x00,0x00,0xfc,0x00,0x00,       // N (High)
  0x00,0x1f,0x00,0x00,0x00,0x03,0x0c,0x1f,0x00,0x00,       // N (Low)
  
  0x00,0xf8,0x04,0x04,0x04,0x04,0x04,0xf8,0x00,0x00,       // Q (High)
  0x00,0x0f,0x10,0x10,0x10,0x14,0x18,0x0f,0x20,0x00,       // Q (Low)
  
  0x00,0xfc,0x84,0x84,0x84,0x84,0x48,0x30,0x00,0x00,       // R (High)
  0x00,0x1f,0x00,0x00,0x00,0x00,0x01,0x1e,0x00,0x00,       // R (Low)
  
  0x00,0x78,0x84,0x84,0x84,0x84,0x84,0x08,0x00,0x00,       // S (High)
  0x00,0x08,0x10,0x10,0x10,0x10,0x10,0x0f,0x00,0x00,       // S (Low)
  
  0x00,0xfc,0x00,0x00,0x00,0x00,0x00,0xfc,0x00,0x00,       // U (High)
  0x00,0x0f,0x10,0x10,0x10,0x10,0x10,0x0f,0x00,0x00,       // U (Low)
  
  0x00,0x1c,0xe0,0x00,0x00,0x00,0xe0,0x1c,0x00,0x00,       // V (High)
  0x00,0x00,0x00,0x07,0x18,0x07,0x00,0x00,0x00,0x00,       // V (Low)
  
  0x3c,0xc0,0x00,0x80,0x60,0x80,0x00,0xc0,0x3c,0x00,       // W (High)
  0x00,0x07,0x18,0x07,0x00,0x07,0x18,0x07,0x00,0x00,       // W (Low)
  
  0x0c,0x10,0x20,0x40,0x80,0x40,0x20,0x10,0x0c,0x00,       // Y (High)
  0x00,0x00,0x00,0x00,0x1f,0x00,0x00,0x00,0x00,0x00,       // Y (Low)
  
  0x00,0x04,0x04,0x04,0x84,0x44,0x34,0x0c,0x00,0x00,       // Z (High)
  0x00,0x18,0x16,0x11,0x10,0x10,0x10,0x10,0x00,0x00,       // Z (Low)

  

  // латинский малый
  0x00,0xf8,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x00,       // b (High)
  0x00,0x0f,0x10,0x10,0x10,0x10,0x0f,0x00,0x00,0x00,       // b (Low)
  
  0x00,0x00,0x80,0x80,0x80,0x80,0xf8,0x00,0x00,0x00,       // d (High)
  0x00,0x0f,0x10,0x10,0x10,0x10,0x0f,0x00,0x00,0x00,       // d (Low)
  
  0x00,0x00,0x00,0x80,0xf0,0x88,0x08,0x10,0x00,0x00,       // f (High)
  0x00,0x00,0x00,0x00,0x1f,0x00,0x00,0x00,0x00,0x00,       // f (Low)
  
  0x00,0xc0,0x20,0x20,0x20,0x20,0xc0,0x00,0x00,0x00,       // g (High)
  0x00,0x27,0x48,0x48,0x48,0x48,0x3f,0x00,0x00,0x00,       // g (Low)
  
  0x00,0xf8,0x80,0x40,0x40,0x80,0x00,0x00,0x00,0x00,       // h (High)
  0x00,0x1f,0x00,0x00,0x00,0x00,0x1f,0x00,0x00,0x00,       // h (Low)
  
  0x00,0x00,0x00,0x00,0xe8,0x00,0x00,0x00,0x00,0x00,       // i (High)
  0x00,0x00,0x00,0x00,0x1f,0x00,0x00,0x00,0x00,0x00,       // i (Low)
  
  0x00,0x00,0x00,0x00,0x00,0x00,0xa0,0x00,0x00,0x00,       // j (High)
  0x00,0x00,0x20,0x40,0x40,0x40,0x3f,0x00,0x00,0x00,       // j (Low)
  
  0x00,0x00,0xf8,0x00,0x00,0x80,0x00,0x00,0x00,0x00,       // k (High)
  0x00,0x00,0x1f,0x02,0x05,0x08,0x10,0x00,0x00,0x00,       // k (Low)
  
  0x00,0x00,0x00,0x00,0xf8,0x00,0x00,0x00,0x00,0x00,       // l (High)
  0x00,0x00,0x00,0x00,0x1f,0x00,0x00,0x00,0x00,0x00,       // l (Low)
  
  0x00,0xe0,0x20,0x20,0xe0,0x20,0x20,0xc0,0x00,0x00,       // m (High)
  0x00,0x1f,0x00,0x00,0x1f,0x00,0x00,0x1f,0x00,0x00,       // m (Low)
  
  0x00,0xe0,0x20,0x20,0x20,0x20,0xc0,0x00,0x00,0x00,       // n (High)
  0x00,0x1f,0x00,0x00,0x00,0x00,0x1f,0x00,0x00,0x00,       // n (Low)
  
  0x00,0x00,0xc0,0x20,0x20,0x20,0x20,0xe0,0x00,0x00,       // q (High)
  0x00,0x00,0x03,0x04,0x04,0x04,0x04,0x7f,0x00,0x00,       // q (Low)
  
  0x00,0x00,0xe0,0x40,0x20,0x20,0x20,0x00,0x00,0x00,       // r (High)
  0x00,0x00,0x1f,0x00,0x00,0x00,0x00,0x00,0x00,0x00,       // r (Low)
  
  0x00,0xc0,0x20,0x20,0x20,0x20,0x40,0x00,0x00,0x00,       // s (High)
  0x00,0x08,0x11,0x11,0x12,0x12,0x0c,0x00,0x00,0x00,       // s (Low)
  
  0x00,0x00,0x20,0x20,0xf8,0x20,0x20,0x00,0x00,0x00,       // t (High)
  0x00,0x00,0x00,0x00,0x0f,0x10,0x10,0x08,0x00,0x00,       // t (Low)
  
  0x00,0xe0,0x00,0x00,0x00,0x00,0x00,0xe0,0x00,0x00,       // u (High)
  0x00,0x07,0x08,0x10,0x10,0x10,0x10,0x0f,0x00,0x00,       // u (Low)
  
  0x00,0x60,0x80,0x00,0x00,0x00,0x80,0x60,0x00,0x00,       // v (High)
  0x00,0x00,0x01,0x06,0x18,0x06,0x01,0x00,0x00,0x00,       // v (Low)
  
  0xe0,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0xe0,0x00,       // w (High)
  0x00,0x07,0x18,0x07,0x00,0x07,0x18,0x07,0x00,0x00,       // w (Low)
  
  0x00,0x20,0x20,0x20,0x20,0xa0,0x60,0x00,0x00,0x00,       // z (High)
  0x00,0x18,0x14,0x12,0x11,0x10,0x10,0x00,0x00,0x00,       // z (Low)
  
  // другие
  
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,       // ',' (High)
  0x00,0x18,0x78,0x00,0x00,0x00,0x00,0x00,0x00,0x00,       // ',' (Low)
  
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,       // '.' (High)
  0x00,0x18,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00,       // '.' (Low)
  
  0x00,0x00,0x00,0x00,0x60,0x60,0x00,0x00,0x00,0x00,       // ':' (High)
  0x00,0x00,0x00,0x00,0x06,0x06,0x00,0x00,0x00,0x00,       // ':' (Low)
  
  0x00,0x00,0xf8,0xf8,0x00,0x00,0x00,0x00,0x00,0x00,       // '!' (High)
  0x00,0x00,0x19,0x19,0x00,0x00,0x00,0x00,0x00,0x00,       // '!' (Low)
  
  0x00,0x18,0x04,0x04,0x84,0x84,0x78,0x00,0x00,0x00,       // '?' (High)
  0x00,0x00,0x00,0x00,0x13,0x01,0x00,0x00,0x00,0x00,       // '?' (Low)
  
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,       // space (High)
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,       // space (Low)
  
  0x00,0x00,0x00,0x80,0x60,0x18,0x00,0x00,0x00,0x00,       // '/' (High)
  0x00,0x18,0x06,0x01,0x00,0x00,0x00,0x00,0x00,0x00,       // '/' (Low)
  
  0x70,0x88,0x88,0x70,0x80,0x60,0x18,0x00,0x00,0x00,       // '%' (High)
  0x00,0x00,0x18,0x06,0x01,0x0e,0x11,0x11,0x0e,0x00,       // '%' (Low)
  
  0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,       // '=' (High)
  0x00,0x00,0x02,0x02,0x02,0x02,0x02,0x02,0x00,0x00,       // '=' (Low)
  
  0x00,0xf0,0x08,0x04,0x00,0x00,0x00,0x00,0x00,0x00,       // '(' (High)
  0x00,0x07,0x08,0x10,0x00,0x00,0x00,0x00,0x00,0x00,       // '(' (Low)
  
  0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x08,0xf0,0x00,       // ')' (High)
  0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x08,0x07,0x00,       // ')' (Low)
  
  0x00,0x00,0x00,0x00,0xe0,0x00,0x00,0x00,0x00,0x00,       // '+' (High)
  0x00,0x01,0x01,0x01,0x0f,0x01,0x01,0x01,0x00,0x00,       // '+' (Low)
  
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,       // '-' (High)
  0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x00,0x00,       // '-' (Low)
  
  0x00,0x00,0x00,0x80,0x40,0x20,0x00,0x00,0x00,0x00,       // '<' (High)
  0x00,0x00,0x01,0x02,0x04,0x08,0x00,0x00,0x00,0x00,       // '<' (Low)
  
  0x00,0x00,0x00,0x00,0x20,0x40,0x80,0x00,0x00,0x00,       // '>' (High)
  0x00,0x00,0x00,0x00,0x08,0x04,0x02,0x01,0x00,0x00,       // '>' (Low)
  
  0x00,0x00,0x40,0x80,0xe0,0x80,0x40,0x00,0x00,0x00,       // '*' (High)
  0x00,0x01,0x05,0x03,0x0f,0x03,0x05,0x01,0x00,0x00,       // '*' (Low)
  
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,       // '_' (High)
  0x00,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x00,       // '_' (Low)
  
  0x00,0x00,0x38,0x28,0x38,0x00,0x00,0x00,0x00,0x00,       // символ градуса (High)
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,       // символ градуса (Low)
  
  0x00,0x00,0x40,0x60,0xf0,0x60,0x40,0x00,0x00,0x00,       // символ стрелка вверх (High)
  0x00,0x00,0x00,0x00,0x1f,0x00,0x00,0x00,0x00,0x00,       // символ стрелка вверх (Low)
  
  0x00,0x00,0x00,0x00,0xf0,0x00,0x00,0x00,0x00,0x00,       // символ стрелка вниз (High)
  0x00,0x00,0x04,0x0c,0x1f,0x0c,0x04,0x00,0x00,0x00,       // символ стрелка вниз (Low)
  
  0x00,0x80,0xc0,0xe0,0x80,0x80,0x80,0x80,0x80,0x00,       // символ стрелка влево (High)
  0x00,0x00,0x01,0x03,0x00,0x00,0x00,0x00,0x00,0x00,       // символ стрелка влево (Low)
  
  0x00,0x80,0x80,0x80,0x80,0x80,0xe0,0xc0,0x80,0x00,       // символ стрелка вправо (High)
  0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x01,0x00,0x00,       // символ стрелка вправо (Low)
  
  0x00,0x00,0x80,0xc0,0xf0,0xc0,0x80,0x00,0x00,0x00,       // символ колокольчик (High)
  0x04,0x06,0x07,0x07,0x0f,0x07,0x07,0x06,0x04,0x00,       // символ колокольчик (Low)
  
  0x00,0x00,0xf0,0xf0,0xf0,0xf0,0xf0,0xf0,0x00,0x00,       // символ колокольчик (High)
  0x00,0x00,0x03,0x03,0x03,0x03,0x03,0x03,0x00,0x00,       // символ черный квадрат (Low)

};
//=========================================================================================
      
static unsigned char cOldCursorPos;
static unsigned char cOldCursorStatus;

//======================================================================
void LCD_CursorXY( unsigned char CursorX )
{
   if ( cOldCursorPos != CursorX || CursorOnOff != cOldCursorStatus )
    {
      OLED_PrintSymbol(cOldCursorPos, 0);
      
      if ( CursorOnOff == On )
      {
        OLED_PrintSymbol(CursorX, 1);
      }
      else
      {
        OLED_PrintSymbol(CursorX, 0);
      };
      
      cOldCursorPos = CursorX;
      cOldCursorStatus = CursorOnOff;
    };
  };

//======================================================================
void LCD_ON( void )
{
  //Включаем LCD   
  uint8_t i;
    
  //обнуляем массивы
  for ( i = 0; i < 48; i++ )
  {
    BuferLCD[i] = 0;
    TabloLCD[i] = 0;
  };
    
  	  OLED_Init();        			 //инициализация LCD
  	  Delay_ms(5);
}
//======================================================================
unsigned char Cyr_to_LCD( unsigned char Symbol )
{
  //Конвертит русские буквы в шрифт LCD
  //используем кодировку для ЖКИ индикатора
 
  switch (Symbol)
  { 
   case 'А': return('A');
   case 'а': return('А');
   case 'Б': return(0x80);
   case 'б': return(0x80);
   case 'В': return('B');
   case 'в': return('B');
   case 'Г': return(0x92);
   case 'г': return(0x92);
   case 'Д': return(0x81);
   case 'д': return(0x81);
   case 'Е': return('E');
   case 'е': return('E');
   case 'Ж': return(0x82);
   case 'ж': return(0x82);
   case 'З': return(0x83);
   case 'з': return(0x83);
   case 'И': return(0x84);
   case 'и': return(0x84);
   case 'й': return(0x85);
   case 'Й': return(0x85);
   case 'К': return('K');
   case 'к': return('K');
   case 'Л': return(0x86);
   case 'л': return(0x86);
   case 'М': return('M');
   case 'м': return('M');
   case 'Н': return('H');
   case 'н': return('H');
   case 'О': return('O');
   case 'о': return('O');
   case 'П': return(0x87);
   case 'п': return(0x87);
   case 'Р': return('P');
   case 'р': return('P');
   case 'С': return('C');
   case 'с': return('C');
   case 'Т': return('T');
   case 'т': return('T');
   case 'У': return(0x88);
   case 'у': return(0x88);
   case 'Ф': return(0xA2);
   case 'ф': return(0xA2);
   case 'Х': return('X');
   case 'х': return('X');
   case 'Ц': return(0x89);
   case 'ц': return(0x89);
   case 'Ч': return(0x8A);
   case 'ч': return(0x8A);
   case 'Ш': return(0x8B);
   case 'ш': return(0x8B);
   case 'Щ': return(0x8C);
   case 'щ': return(0x8C);
   case 'Э': return(0x8F);
   case 'э': return(0x8F);
   case 'Ю': return(0xAC);
   case 'ю': return(0xAC);
   case 'Я': return(0xAD);
   case 'я': return(0xAD);
   case 'ь': return(0x62);
   case 'ы': return(0x8E);  
   case 'Ы': return(0x8E);  

  
   //спецсимволы - для русской футабы
   case 0x99: return(0xB0); 			// символ градуса
   case 0x9A: return(0x18); 			// символ стрелка вверх
   case 0x9C: return(0x19); 			// символ стрелка вниз
   case 0x9B: return(0x1B); 			// символ стрелка влево
   case 0x9F: return(0x1A); 			// символ стрелка вправо
   case 0x9D: return(0x98); 			// символ колокольчик
   case 0x9E: return(0x16); 			// символ круглое пятно (черный квадрат)
  
  /* 
   //спецсимволы - для английской футабы
   case 0x99: return(0xEF); //символ градуса  
   case 0x9A: return(0xD9); //символ стрелка вверх  
   case 0x9C: return(0xDA); //символ стрелка вниз  
   case 0x9B: return(0xDB); //символ стрелка влево
   case 0x9F: return(0xDC); //символ стрелка вправо
   case 0x9D: return(0xED); //символ колокольчик
   case 0x9E: return(0xFF); //символ черный квадрат
  */ 
   
   default: return(Symbol); 
  }
 }
//======================================================================
void LCD_Display_Driver( void )
{
  //сравнивает страницы из буфера и экрана, если не совпадают, то обновляет экран
  unsigned char i;
  //unsigned char Buf;
  
  if ( LCDbusyFLAG == 1 ) 								// если стоит флаг отработать с LCD
  {
    for ( i = 0; i < 48; i++) 
    {
      if (TabloLCD[i] != BuferLCD[i]) 					// если символы не совпадают, обновляем их
      {
        TabloLCD[i] = BuferLCD[i]; 						// присваиваем новое значение в экран

          if ( CursorOnOff == On && i == CursorX )
        	  {
        	  	  OLED_PrintSymbol(i, 1);
        	  }
          else
        	  {
        	  	  OLED_PrintSymbol(i, 0);
        	  }
      	  }
      };

    // отображение курсора

      if ( cOldCursorPos != CursorX || CursorOnOff != cOldCursorStatus )
      {
        OLED_PrintSymbol(cOldCursorPos, 0);
      
        if ( CursorOnOff == On )
        {
          OLED_PrintSymbol(CursorX, 1);
        }
        else
        {
          OLED_PrintSymbol(CursorX, 0);
        };
      
        cOldCursorPos = CursorX;
        cOldCursorStatus = CursorOnOff;
      };
   
    LCDbusyFLAG = 0; 					//сброс флага = 0 LCD не занимает шину данных!
  };
} 
//=========================================================================================

//=========================================================================================
void OLED_Init( void )
{ 
  OLED_Set_Command_Lock(0x12);					// Unlock Basic Commands (0x12/0x16)
  OLED_Set_Display_On_Off(0x00);				// Display Off (0x00/0x01)
  OLED_Set_Display_Clock(0x91);					// Set Clock as 80 Frames/Sec
  OLED_Set_Multiplex_Ratio(0x3F);				// 1/64 Duty (0x0F~0x3F)
  OLED_Set_Display_Offset(0x00);				// Shift Mapping RAM Counter (0x00~0x3F)
  OLED_Set_Start_Line(0x00);					// Set Mapping RAM Display Start Line (0x00~0x7F)
  OLED_Set_Remap_Format(0x14);					// Set Horizontal Address Increment
      				        					// Column Address 0 Mapped to SEG0
												// Disable Nibble Remap
												// Scan from COM[N-1] to COM0
												// Disable COM Split Odd Even
												// Enable Dual COM Line Mode
  OLED_Set_GPIO(0x00);							// Disable GPIO Pins Input
  OLED_Set_Function_Selection(0x01);			// Enable Internal VDD Regulator
  OLED_Set_Display_Enhancement_A(0xA0,0xFD);	// Enable External VSL
  												// Set Low Gray Scale Enhancement
  OLED_Set_Contrast_Current(0xFF);				// Set Segment Output Current
  OLED_Set_Master_Current(Brightness);			// Set Scale Factor of Segment Output Current Control
  OLED_Set_Gray_Scale_Table();					// Set Pulse Width for Gray Scale Table
  OLED_Set_Phase_Length(0xE8);					// Set Phase 1 as 17 Clocks & Phase 2 as 14 Clocks
  OLED_Set_Display_Enhancement_B(0x20);			// Enhance Driving Scheme Capability (0x00/0x20)
  OLED_Set_Precharge_Voltage(0x1F);				// Set Pre-Charge Voltage Level as 0.60*VCC
  OLED_Set_Precharge_Period(0x08);				// Set Second Pre-Charge Period as 8 Clocks
  OLED_Set_VCOMH(0x07);							// Set Common Pins Deselect Voltage Level as 0.86*VCC
  OLED_Set_Display_Mode(0x02);					// Normal Display Mode (0x00/0x01/0x02/0x03)
  OLED_Set_Partial_Display(0x01,0x00,0x00);		// Disable Partial Display

  OLED_Fill_RAM(0x00);							// Clear Screen

  OLED_Set_Display_On_Off(0x01);				// Display On (0x00/0x01)
}
//=========================================================================================
// рисование символа если позиция
void OLED_PrintSymbol(unsigned char cPos, unsigned char bCursor)
{
  unsigned char  *Src_Pointer;
  unsigned char Font,MSB_1,LSB_1,MSB_2,LSB_2;
  uint8_t i,j;

  float fCol = 0;
  unsigned char cRow = 0;

  char bEven = 1;

  // четность позиции
  if (cPos%2) bEven = 0;

  OLED_Set_Remap_Format(0x15);

  for (j = 0; j < 2; j++)
  {
    // вычисление Y
    if (j == 0)
    {
      if (cPos < 24) cRow = String1_High_Row;
      else cRow = String2_High_Row;
    }
    else
    {
      if (cPos < 24) cRow = String1_Low_Row;
      else cRow = String2_Low_Row;
    };

    // вычисление X
    if (cPos < 24) fCol = Shift + XShift + String1_Column + 2.5*cPos;
    else fCol = Shift + XShift + String2_Column + 2.5*(cPos-24);

    for (i = 0; i < 3; i++)
    {
      // четная позиция
      if (bEven)
      {
        // начало
        if (i == 0)
        {
          Src_Pointer = &SYMBOL_ARRAY[CharToOLED(TabloLCD[cPos], j)][0];
        };

        MSB_1 = *Src_Pointer;
        Src_Pointer++;

        LSB_1 = *Src_Pointer;
        Src_Pointer++;

        if (bCursor)
        {
          MSB_1 = ~MSB_1;
          LSB_1 = ~LSB_1;
        };
        
        // в конце кусочек следующего символа
        if ( i == 2)
        {
          Src_Pointer = &SYMBOL_ARRAY[CharToOLED(TabloLCD[cPos+1], j)][0];
        };

        MSB_2 = *Src_Pointer;
        Src_Pointer++;

        LSB_2 = *Src_Pointer;
        Src_Pointer++;
        
        if (bCursor && i < 2)
        {
          MSB_2 = ~MSB_2;
          LSB_2 = ~LSB_2;
        };
	
      }
      else
      {
        // начало - предыдущий символ
        if (i == 0)
        {
          Src_Pointer = &SYMBOL_ARRAY[CharToOLED(TabloLCD[cPos-1], j)][8];
        };

        MSB_1 = *Src_Pointer;
        Src_Pointer++;

        LSB_1 = *Src_Pointer;
        Src_Pointer++;
        
        if (bCursor && i > 0)
        {
          MSB_1 = ~MSB_1;
          LSB_1 = ~LSB_1;
        };

        // далее текущий символ
        if (i == 0)
        {
          Src_Pointer = &SYMBOL_ARRAY[CharToOLED(TabloLCD[cPos], j)][0];
        };

        MSB_2 = *Src_Pointer;
        Src_Pointer++;

        LSB_2 = *Src_Pointer;
        Src_Pointer++;
        
        if (bCursor)
        {
          MSB_2 = ~MSB_2;
          LSB_2 = ~LSB_2;
        };
      };

      // управление записью в LCD
      OLED_Set_Column_Address((unsigned char)fCol,(unsigned char)fCol);
      OLED_Set_Row_Address(cRow,cRow+7);
      OLED_Set_Write_RAM();

      Font = ((MSB_1&0x01)<<4)|(LSB_1&0x01);
      Font = Font|(Font<<1)|(Font<<2)|(Font<<3);
      OLED_LoadChar(Font);
      Font = ((MSB_2&0x01)<<4)|(LSB_2&0x01);
      Font = Font|(Font<<1)|(Font<<2)|(Font<<3);
      OLED_LoadChar(Font);

      Font = ((MSB_1&0x02)<<3)|((LSB_1&0x02)>>1);
      Font = Font|(Font<<1)|(Font<<2)|(Font<<3);
      OLED_LoadChar(Font);
      Font = ((MSB_2&0x02)<<3)|((LSB_2&0x02)>>1);
      Font = Font|(Font<<1)|(Font<<2)|(Font<<3);
      OLED_LoadChar(Font);

      Font = ((MSB_1&0x04)<<2)|((LSB_1&0x04)>>2);
      Font = Font|(Font<<1)|(Font<<2)|(Font<<3);
      OLED_LoadChar(Font);
      Font = ((MSB_2&0x04)<<2)|((LSB_2&0x04)>>2);
      Font = Font|(Font<<1)|(Font<<2)|(Font<<3);
      OLED_LoadChar(Font);

      Font = ((MSB_1&0x08)<<1)|((LSB_1&0x08)>>3);
      Font = Font|(Font<<1)|(Font<<2)|(Font<<3);
      OLED_LoadChar(Font);
      Font = ((MSB_2&0x08)<<1)|((LSB_2&0x08)>>3);
      Font = Font|(Font<<1)|(Font<<2)|(Font<<3);
      OLED_LoadChar(Font);

      Font = ((MSB_1&0x10)<<3)|((LSB_1&0x10)>>1);
      Font = Font|(Font>>1)|(Font>>2)|(Font>>3);
      OLED_LoadChar(Font);
      Font = ((MSB_2&0x10)<<3)|((LSB_2&0x10)>>1);
      Font = Font|(Font>>1)|(Font>>2)|(Font>>3);
      OLED_LoadChar(Font);

      Font = ((MSB_1&0x20)<<2)|((LSB_1&0x20)>>2);
      Font = Font|(Font>>1)|(Font>>2)|(Font>>3);
      OLED_LoadChar(Font);
      Font = ((MSB_2&0x20)<<2)|((LSB_2&0x20)>>2);
      Font = Font|(Font>>1)|(Font>>2)|(Font>>3);
      OLED_LoadChar(Font);

      Font = ((MSB_1&0x40)<<1)|((LSB_1&0x40)>>3);
      Font = Font|(Font>>1)|(Font>>2)|(Font>>3);
      OLED_LoadChar(Font);
      Font = ((MSB_2&0x40)<<1)|((LSB_2&0x40)>>3);
      Font = Font|(Font>>1)|(Font>>2)|(Font>>3);
      OLED_LoadChar(Font);

      Font = (MSB_1&0x80)|((LSB_1&0x80)>>4);
      Font = Font|(Font>>1)|(Font>>2)|(Font>>3);
      OLED_LoadChar(Font);
      Font = (MSB_2&0x80)|((LSB_2&0x80)>>4);
      Font = Font|(Font>>1)|(Font>>2)|(Font>>3);
      OLED_LoadChar(Font);

      fCol = fCol + 1;
    };
  };

  OLED_Set_Remap_Format(0x14);
}

//===================================== загрузка команды =================================

void OLED_LoadCommand (unsigned char Data)
{
  //pin_RS_OFF(LCD_RS);								//CLRBIT(LCDControlPORT,RS_LCD);
	LCD_CTRL->BRR = LCD_RS;
  //pin_RW_OFF(LCD_RW);								//CLRBIT(LCDControlPORT,RW_LCD);
	LCD_CTRL->BRR = LCD_RW;

  DelayLoop(5);							// NOP

  GPIO_WriteBit(LCD_PORT, LCD_DB7, (BitAction)(Data & 0x0080));
  GPIO_WriteBit(LCD_PORT, LCD_DB6, (BitAction)(Data & 0x0040));
  GPIO_WriteBit(LCD_PORT, LCD_DB5, (BitAction)(Data & 0x0020));
  GPIO_WriteBit(LCD_PORT, LCD_DB4, (BitAction)(Data & 0x0010));
  GPIO_WriteBit(LCD_PORT, LCD_DB3, (BitAction)(Data & 0x0008));
  GPIO_WriteBit(LCD_PORT, LCD_DB2, (BitAction)(Data & 0x0004));
  GPIO_WriteBit(LCD_PORT, LCD_DB1, (BitAction)(Data & 0x0002));
  GPIO_WriteBit(LCD_PORT, LCD_DB0, (BitAction)(Data & 0x0001));

  DelayLoop(5);							// NOP

  //pin_EN_ON(LCD_E);									//SETBIT(LCDControlPORT,En1_LCD);
  LCD_CTRL->BSRR = LCD_E;

  DelayLoop(5);							// NOP
  DelayLoop(5);							// NOP

  //pin_EN_OFF(LCD_E);								//CLRBIT(LCDControlPORT,En1_LCD);
  LCD_CTRL->BRR = LCD_E;
  
  DelayLoop(5);							// NOP
/*
  GPIO_ResetBits(LCD_PORT, LCD_DB7);		// DATA_LCD_PORT = 0x00;
  GPIO_ResetBits(LCD_PORT, LCD_DB6);
  GPIO_ResetBits(LCD_PORT, LCD_DB5);
  GPIO_ResetBits(LCD_PORT, LCD_DB4);
  GPIO_ResetBits(LCD_PORT, LCD_DB3);
  GPIO_ResetBits(LCD_PORT, LCD_DB2);
  GPIO_ResetBits(LCD_PORT, LCD_DB1);
  GPIO_ResetBits(LCD_PORT, LCD_DB0);
*/
  DelayLoop(5);							// NOP
  
  //LCD_Port_Set_Input();								// config LCD_port Input
 // pin_RS_ON(LCD_RS);								//SETBIT(LCDControlPORT,RS_LCD);
  LCD_CTRL->BSRR = LCD_RS;
  //pin_RW_ON(LCD_RW);								//SETBIT(LCDControlPORT,RW_LCD);
  LCD_CTRL->BSRR = LCD_RW;
}
//======================================================================
// Загрузка символа

void OLED_LoadChar (unsigned char Data)
{
													//loading data settings
//	pin_RS_ON(LCD_RS);
	//pin_RW_OFF(LCD_RW);
	LCD_CTRL->BRR = LCD_RW;

	//LCD_Port_Set_Output();

	//DelayLoop(1);							// NOP
	DelayLoop(5);							// NOP

	GPIO_WriteBit(LCD_PORT, LCD_DB7, (BitAction)(Data & 0x0080));
	GPIO_WriteBit(LCD_PORT, LCD_DB6, (BitAction)(Data & 0x0040));
	GPIO_WriteBit(LCD_PORT, LCD_DB5, (BitAction)(Data & 0x0020));
	GPIO_WriteBit(LCD_PORT, LCD_DB4, (BitAction)(Data & 0x0010));
	GPIO_WriteBit(LCD_PORT, LCD_DB3, (BitAction)(Data & 0x0008));
	GPIO_WriteBit(LCD_PORT, LCD_DB2, (BitAction)(Data & 0x0004));
	GPIO_WriteBit(LCD_PORT, LCD_DB1, (BitAction)(Data & 0x0002));
	GPIO_WriteBit(LCD_PORT, LCD_DB0, (BitAction)(Data & 0x0001));

	DelayLoop(5);							// NOP

  	  	  	  	  	  	  	  	  	  	  	  	  	 //enable LCD strobe
 // pin_EN_ON(LCD_E);
	LCD_CTRL->BSRR = LCD_E;

  DelayLoop(5);							// NOP
  DelayLoop(5);							// NOP
  //pin_EN_OFF(LCD_E);
	LCD_CTRL->BRR = LCD_E;

  DelayLoop(5);							// NOP
/*
  GPIO_ResetBits(LCD_PORT, LCD_DB7);
  GPIO_ResetBits(LCD_PORT, LCD_DB6);
  GPIO_ResetBits(LCD_PORT, LCD_DB5);
  GPIO_ResetBits(LCD_PORT, LCD_DB4);
  GPIO_ResetBits(LCD_PORT, LCD_DB3);
  GPIO_ResetBits(LCD_PORT, LCD_DB2);
  GPIO_ResetBits(LCD_PORT, LCD_DB1);
  GPIO_ResetBits(LCD_PORT, LCD_DB0);
 */
  //DelayLoop(1);							// NOP

 // LCD_Port_Set_Input();
 // pin_RS_ON(LCD_RS);								//SETBIT(LCDControlPORT,RS_LCD);
  //pin_RW_ON(LCD_RW);								//SETBIT(LCDControlPORT,RW_LCD);
	LCD_CTRL->BSRR = LCD_RW;
}

//======================================================================
// Комнды LCD

void OLED_Set_Column_Address (unsigned char a, unsigned char b)
{
  OLED_LoadCommand(0x15);		// Set Column Address
  OLED_LoadChar(a);				//   Default => 0x00
  OLED_LoadChar(b);				//   Default => 0x77
}


void OLED_Set_Row_Address (unsigned char a, unsigned char b)
{
  OLED_LoadCommand(0x75);		// Set Row Address
  OLED_LoadChar(a);				//   Default => 0x00
  OLED_LoadChar(b);				//   Default => 0x7F
}


void OLED_Set_Write_RAM()
{
  OLED_LoadCommand(0x5C);			// Enable MCU to Write into RAM
}


void OLED_Set_Read_RAM()
{
  OLED_LoadCommand(0x5D);			// Enable MCU to Read from RAM
}


void OLED_Set_Remap_Format (unsigned char d)
{
  OLED_LoadCommand(0xA0);			// Set Re-Map / Dual COM Line Mode
  OLED_LoadChar(d);				//   Default => 0x40
								//     Horizontal Address Increment
								//     Column Address 0 Mapped to SEG0
								//     Disable Nibble Remap
								//     Scan from COM0 to COM[N-1]
								//     Disable COM Split Odd Even
  OLED_LoadChar(0x11);			//   Default => 0x01 (Disable Dual COM Mode)
}


void OLED_Set_Start_Line (unsigned char d)
{
  OLED_LoadCommand(0xA1);			// Set Vertical Scroll by RAM
  OLED_LoadChar(d);					//   Default => 0x00
}


void OLED_Set_Display_Offset (unsigned char d)
{
  OLED_LoadCommand(0xA2);			// Set Vertical Scroll by Row
  OLED_LoadChar(d);					//   Default => 0x00
}


void OLED_Set_Display_Mode (unsigned char d)
{
  OLED_LoadCommand(0xA4|d);			// Set Display Mode
									//   Default => 0xA4
									//     0xA4 (0x00) => Entire Display Off, All Pixels Turn Off
									//     0xA5 (0x01) => Entire Display On, All Pixels Turn On at GS Level 15
									//     0xA6 (0x02) => Normal Display
									//     0xA7 (0x03) => Inverse Display
}

void OLED_Set_Partial_Display (unsigned char a, unsigned char b, unsigned char c)
{
  OLED_LoadCommand(0xA8|a);
									// Default => 0x8F
									//   Select Internal Booster at Display On
  if ( a == 0x00 )
  {
    OLED_LoadChar(b);
    OLED_LoadChar(c);
  };
}

void OLED_Set_Function_Selection (unsigned char d)
{
  OLED_LoadCommand(0xAB);			// Function Selection
  OLED_LoadChar(d);					//   Default => 0x01
									//     Enable Internal VDD Regulator
}

void OLED_Set_Display_On_Off (unsigned char d)
{
  OLED_LoadCommand(0xAE|d);			// Set Display On/Off
									//   Default => 0xAE
									//     0xAE (0x00) => Display Off (Sleep Mode On)
									//     0xAF (0x01) => Display On (Sleep Mode Off)
}

void OLED_Set_Phase_Length (unsigned char d)
{
  OLED_LoadCommand(0xB1);			// Phase 1 (Reset) & Phase 2 (Pre-Charge) Period Adjustment
  OLED_LoadChar(d);					//   Default => 0x74 (7 Display Clocks [Phase 2] / 9 Display Clocks [Phase 1])
									//     D[3:0] => Phase 1 Period in 5~31 Display Clocks
									//     D[7:4] => Phase 2 Period in 3~15 Display Clocks
}

void OLED_Set_Display_Clock (unsigned char d)
{
  OLED_LoadCommand(0xB3);			// Set Display Clock Divider / Oscillator Frequency
  OLED_LoadChar(d);					//   Default => 0xD0
									//     A[3:0] => Display Clock Divider
									//     A[7:4] => Oscillator Frequency
}

void OLED_Set_Display_Enhancement_A (unsigned char a, unsigned char b)
{
  OLED_LoadCommand(0xB4);			// Display Enhancement
  OLED_LoadChar(0xA0|a);			//   Default => 0xA2
									//     0xA0 (0x00) => Enable External VSL
									//     0xA2 (0x02) => Enable Internal VSL (Kept VSL Pin N.C.)
  OLED_LoadChar(0x05|b);			//   Default => 0xB5
									//     0xB5 (0xB0) => Normal
									//     0xFD (0xF8) => Enhance Low Gray Scale Display Quality
}

void OLED_Set_GPIO (unsigned char d)
{
  OLED_LoadCommand(0xB5);			// General Purpose IO
  OLED_LoadChar(d);					//   Default => 0x0A (GPIO Pins output Low Level.)
}

void OLED_Set_Precharge_Period (unsigned char d)
{
  OLED_LoadCommand(0xB6);			// Set Second Pre-Charge Period
  OLED_LoadChar(d);					//   Default => 0x08 (8 Display Clocks)
}

void OLED_Set_Precharge_Voltage (unsigned char d)
{
  OLED_LoadCommand(0xBB);			// Set Pre-Charge Voltage Level
  OLED_LoadChar(d);					//   Default => 0x17 (0.50*VCC)
}

void OLED_Set_VCOMH (unsigned char d)
{
  OLED_LoadCommand(0xBE);			// Set COM Deselect Voltage Level
  OLED_LoadChar(d);					//   Default => 0x04 (0.80*VCC)
}


void OLED_Set_Contrast_Current (unsigned char d)
{
  OLED_LoadCommand(0xC1);			// Set Contrast Current
  OLED_LoadChar(d);					//   Default => 0x7F
}


void OLED_Set_Master_Current (unsigned char d)
{
  OLED_LoadCommand(0xC7);			// Master Contrast Current Control
  OLED_LoadChar(d);					//   Default => 0x0f (Maximum)
}


void OLED_Set_Multiplex_Ratio (unsigned char d)
{
  OLED_LoadCommand(0xCA);			// Set Multiplex Ratio
  OLED_LoadChar(d);					//   Default => 0x7F (1/128 Duty)
}


void OLED_Set_Display_Enhancement_B (unsigned char d)
{
  OLED_LoadCommand(0xD1);			// Display Enhancement
  OLED_LoadChar(0x82|d);			//   Default => 0xA2
									//     0x82 (0x00) => Reserved
									//     0xA2 (0x20) => Normal
  OLED_LoadChar(0x20);
}

void OLED_Set_Command_Lock (unsigned char d)
{
  OLED_LoadCommand(0xFD);			// Set Command Lock
  OLED_LoadChar(0x12|d);			//   Default => 0x12
									//     0x12 => Driver IC interface is unlocked from entering command.
									//     0x16 => All Commands are locked except 0xFD.
}

void OLED_Fill_RAM (unsigned char cData)
{
  unsigned char i,j;

  OLED_Set_Column_Address(0x00,0x77);
  OLED_Set_Row_Address(0x00,0x7F);
  OLED_Set_Write_RAM();

  for (i = 0; i < 128; i++)
  {
    for (j = 0; j < 120; j++)
    {
      OLED_LoadChar(cData);
      OLED_LoadChar(cData);
    };
  };
}

void OLED_Set_Gray_Scale_Table()
{
	OLED_LoadCommand(0xB8);			// Set Gray Scale Table
	OLED_LoadChar(0x00);			//   Gray Scale Level 1
	OLED_LoadChar(0x01);			//   Gray Scale Level 2
	OLED_LoadChar(0x03);			//   Gray Scale Level 3
	OLED_LoadChar(0x06);			//   Gray Scale Level 4
	OLED_LoadChar(0x0A);			//   Gray Scale Level 5
	OLED_LoadChar(0x10);			//   Gray Scale Level 6
	OLED_LoadChar(0x1A);			//   Gray Scale Level 7
	OLED_LoadChar(0x28);			//   Gray Scale Level 8
	OLED_LoadChar(0x37);			//   Gray Scale Level 9
	OLED_LoadChar(0x47);			//   Gray Scale Level 10
	OLED_LoadChar(0x58);			//   Gray Scale Level 11
	OLED_LoadChar(0x6A);			//   Gray Scale Level 12
	OLED_LoadChar(0x7F);			//   Gray Scale Level 13
	OLED_LoadChar(0x96);			//   Gray Scale Level 14
	OLED_LoadChar(0xB4);			//   Gray Scale Level 15

	OLED_LoadCommand(0x00);			// Enable Gray Scale Table
}

//======================================================================
// преобразование символов
unsigned char CharToOLED(unsigned char ch, unsigned char cIndex)
{
  // выборка из массива
  switch (ch)
  {
   case 'А':
   case 'A': ch = 0; break;
   case 'Б': ch = 1; break;
   case 'В':
   case 'B': ch = 2; break;
   case 'Г': ch = 3; break;
   case 'Д': ch = 4; break;
   case 'Е':
   case 'E': ch = 5; break;
   case 'Ж': ch = 6; break;
   case 'З': ch = 7; break;
   case 'И': ch = 8; break;
   case 'Й': ch = 9; break;
   case 'К':
   case 'K': ch = 10; break;
   case 'Л': ch = 11; break;
   case 'М':
   case 'M': ch = 12; break;
   case 'Н':
   case 'H': ch = 13; break;
   case 'О':
   case 'O': ch = 14; break;
   case 'П': ch = 15; break;
   case 'Р':
   case 'P': ch = 16; break;
   case 'С':
   case 'C': ch = 17; break;
   case 'Т':
   case 'T': ch = 18; break;
   case 'У': ch = 19; break;
   case 'Ф': ch = 20; break;
   case 'Х':
   case 'X': ch = 21; break;
   case 'Ц': ch = 22; break;
   case 'Ч': ch = 23; break;
   case 'Ш': ch = 24; break;
   case 'Щ': ch = 25; break;
   case 'Ь': ch = 26; break;
   case 'Ы': ch = 27; break;
   case 'Ъ': ch = 28; break;
   case 'Э': ch = 29; break;
   case 'Ю': ch = 30; break;
   case 'Я': ch = 31; break;
   
   case 'а':
   case 'a': ch = 32; break;
   case 'б': ch = 33; break;
   case 'в': ch = 34; break;
   case 'г': ch = 35; break;
   case 'д': ch = 36; break;
   case 'е':
   case 'e': ch = 37; break;
   case 'ж': ch = 38; break;
   case 'з': ch = 39; break;
   case 'и': ch = 40; break;
   case 'й': ch = 41; break;
   case 'к': ch = 42; break;
   case 'л': ch = 43; break;
   case 'м': ch = 44; break;
   case 'н': ch = 45; break;
   case 'о':
   case 'o': ch = 46; break;
   case 'п': ch = 47; break;
   case 'р':
   case 'p': ch = 48; break;
   case 'с':
   case 'c': ch = 49; break;
   case 'т': ch = 50; break;
   case 'у':
   case 'y': ch = 51; break;
   case 'ф': ch = 52; break;
   case 'х':
   case 'x': ch = 53; break;
   case 'ц': ch = 54; break;
   case 'ч': ch = 55; break;
   case 'ш': ch = 56; break;
   case 'щ': ch = 57; break;
   case 'ь': ch = 58; break;
   case 'ы': ch = 59; break;
   case 'ъ': ch = 60; break;
   case 'э': ch = 61; break;
   case 'ю': ch = 62; break;
   case 'я': ch = 63; break;
   
   case '0': ch = 64; break;
   case '1': ch = 65; break;
   case '2': ch = 66; break;
   case '3': ch = 67; break;
   case '4': ch = 68; break;
   case '5': ch = 69; break;
   case '6': ch = 70; break;
   case '7': ch = 71; break;
   case '8': ch = 72; break;
   case '9': ch = 73; break;
   
   case 'D': ch = 74; break;
   case 'F': ch = 75; break;
   case 'G': ch = 76; break;
   case 'I': ch = 77; break;
   case 'J': ch = 78; break;
   case 'L': ch = 79; break;
   case 'N': ch = 80; break;
   case 'Q': ch = 81; break;
   case 'R': ch = 82; break;
   case 'S': ch = 83; break;
   case 'U': ch = 84; break;
   case 'V': ch = 85; break;
   case 'W': ch = 86; break;
   case 'Y': ch = 87; break;
   case 'Z': ch = 88; break;
   
   case 'b': ch = 89; break;
   case 'd': ch = 90; break;
   case 'f': ch = 91; break;
   case 'g': ch = 92; break;
   case 'h': ch = 93; break;
   case 'i': ch = 94; break;
   case 'j': ch = 95; break;
   case 'k': ch = 96; break;
   case 'l': ch = 97; break;
   case 'm': ch = 98; break;
   case 'n': ch = 99; break;
   case 'q': ch = 100; break;
   case 'r': ch = 101; break;
   case 's': ch = 102; break;
   case 't': ch = 103; break;
   case 'u': ch = 104; break;
   case 'v': ch = 105; break;
   case 'w': ch = 106; break;
   case 'z': ch = 107; break;
   
   case ',': ch = 108; break;
   case '.': ch = 109; break;
   case ':': ch = 110; break;
   case '!': ch = 111; break;
   case '?': ch = 112; break;
   case ' ': ch = 113; break;
   case '/': ch = 114; break;
   case '%': ch = 115; break;
   case '=': ch = 116; break;
   case '(': ch = 117; break;
   case ')': ch = 118; break;
   case '+': ch = 119; break;
   case '-': ch = 120; break;
   case '<': ch = 121; break;
   case '>': ch = 122; break;
   case '*': ch = 123; break;
   case '_': ch = 124; break;
   
   case 0x99: ch = 125; break;
   case 0x18:
   case 0x9C:
     ch = 126; break;
   case 0x19:
   case 0x9A:
     ch = 127; break;
   case 0x1B:
   case 0x9B:
     ch = 128; break;
   case 0x1A:
   case 0x9F:
     ch = 129; break;
   case 0x9d: ch = 130; break;
   case 0x9e: ch = 131; break;

  };

  if (cIndex == 0) return (ch*2);
  else return (ch*2+1);
}
